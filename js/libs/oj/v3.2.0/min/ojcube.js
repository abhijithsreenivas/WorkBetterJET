/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","promise","ojs/ojdatasource-common"],function(a,g){a.Xb=function(a,b){this.Init();this.Na=a;this.Lf=b;this.Vz()};o_("Cube",a.Xb,a);a.f.xa(a.Xb,a.f,"oj.Cube");a.Xb.prototype.Init=function(){a.Xb.N.Init.call(this)};a.Xb.prototype.lt=function(){var a=this.lea(),b=[];Array.prototype.push.apply(b,a?a.lt():this.Oi);for(a=2;a<this.Oi.length;a++)b.push(this.Oi[a]);return b};a.f.j("Cube.prototype.getAxes",{lt:a.Xb.prototype.lt});a.Xb.prototype.NY=function(){return this.Oi};a.Xb.prototype.st=
function(a){var b=this.lea();a=b.zJa(a);for(a=b=b.Nla(a,0,[]);Array.isArray(a)&&1===a.length;)if(a=a[0],!Array.isArray(a))return a;return b};a.f.j("Cube.prototype.getValues",{st:a.Xb.prototype.st});a.Xb.prototype.setPage=function(a){this.b0=a instanceof Array?a:[a]};a.Xb.prototype.yqa=function(c,b,d,e,f){var g=this.Lf,k=this.Kca(c);if(!k)return!1;c=null;d<g.length?c=this.Kca(d):(c={axis:d,levels:[]},g.push(c));d=k.levels;g=c.levels;c=b<d.length?d[b]:null;if(!c)return!1;e>=g.length?(g.push(c),d.splice(b,
1)):f===a.Xb.GT.SWAP?(d[b]=g[e],g[e]=c):(f===a.Xb.GT.AFTER&&e++,g.splice(e,0,c),g===d&&e<b&&b++,d.splice(b,1));this.Vz();return!0};a.f.j("Cube.prototype.pivot",{yqa:a.Xb.prototype.yqa});a.Xb.prototype.Kca=function(a){for(var b=0;b<this.Lf.length;b++)if(this.Lf[b].axis===a)return this.Lf[b];return null};a.Xb.prototype.UQ=function(){return this.Lf};a.f.j("Cube.prototype.getLayout",{UQ:a.Xb.prototype.UQ});a.Xb.GT={BEFORE:"before",AFTER:"after",SWAP:"swap"};o_("Cube.PivotType",a.Xb.GT,a);a.Xb.prototype.Nla=
function(a,b,d){var e=[];if(0===a.length)return b=d.slice(0),this.gm(b);var f=a.slice(1),g=a[0].start;a=a[0].count;for(d[b]=g;d[b]<g+a;d[b]++)e.push(this.Nla(f,b+1,d));return e};a.Xb.prototype.zJa=function(a){var b=[];if(!a)return b;for(var d=Math.min(a.length,this.Oi.length),e=0;e<d;e++){var f=a[e];f instanceof Object&&(f.hasOwnProperty("start")||f.hasOwnProperty("count"))?f.hasOwnProperty("start")?f.hasOwnProperty("count")?b.push(this.dN(f.start,f.count,e)):b.push(this.dN(f.start,1,e)):b.push(this.dN(0,
f.count,e)):b.push(this.dN(f,1,e))}return b};a.Xb.prototype.dN=function(a,b,d){d=this.lt()[d].getExtent();if(a>=d||0>a)a=0;b=Math.min(b,d-a);return{start:a,index:a,count:b}};a.Xb.prototype.gm=function(c){var b=this.Pza(c);return b&&(b=b.Kw(),0<b.length&&(b=this.p[b[0].key]))?new a.zj(b.value,c,b.iQ,b.rows,b.tw):new a.zj(null,c,void 0,[])};a.Xb.prototype.Gsa=function(){var a=this.KDa();this.b0=[];for(var b=0;b<a.length;b++)this.vs(a[b].axis,a[b].levels),this.b0.push({axis:a[b].axis,index:0});if(0===
a.length)for(a=this.NY(),b=0;b<a.length;b++)this.vs(a[b].axis,a[b].levels)};a.Xb.prototype.KDa=function(){for(var a=[],b=0;b<this.Lf.length;b++)1<this.Lf[b].axis&&a.push(this.Lf[b]);return a};a.Xb.prototype.NY=function(){for(var a=[],b=0;b<this.Lf.length;b++)2>this.Lf[b].axis&&a.push(this.Lf[b]);return a};a.Xb.prototype.Vz=function(){this.Oi=[];this.p=[];this.bX=[];this.Gsa();if(null!==this.Na)for(var c=0;c<this.Na.length;c++){for(var b=new a.co,d=2;d<this.Oi.length;d++)b=this.Oi[d].X6(this.Na[c],
b);for(var b=b.Kw(),e=0;e<b.length;e++){var d=b[e].key,f=this.bX[d];f||(f=this.bX[d]=this.hT(this.NY()));for(var g=new a.co,k=f.Oi.length,d=0;d<k;d++)g=f.Oi[d].X6(this.Na[c],g);g=d=g.Kw();if(void 0!==b[e].Mma)for(g=[],k=0;k<d.length;k++)g.push(b[e]);f.JNa(d,g,this.Na[c])}}};a.Xb.prototype.JNa=function(a,b,d){for(var e=0;e<a.length;e++)this.p[a[e].key]=this.Oxa(b[e],this.p[a[e].key],d)};a.Xb.prototype.lea=function(){return this.bX[this.gDa(this.b0)]};a.Xb.prototype.gDa=function(c){var b=new a.co;if(c&&
0<c.length){c.sort(function(a,b){return a.axis-b.axis});for(var d=this.Oi,e=0;e<c.length;e++)b=d[c[e].axis].jK(c[e].index,b)}return b.Kw()[0].key};a.Xb.Zga=function(a){return a?void 0!==a.value&&null!==a.value:!1};a.Xb.prototype.Ge=function(a,b,d,e,f){d.push(e);e={};for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g]);e.value=a;e.iQ=b;e.rows=d;return e};a.Xb.Fh=function(c){return a.Ua.ud(c.value)?!1:!isNaN(c.value)};a.Xb.prototype.Oxa=function(c,b,d){var e=this.jT(c.Mma),f=e.KC,g=a.Xb.Zga(b),k=a.Xb.Zga(c),
l=g&&a.Xb.Fh(b),m=k&&a.Xb.Fh(c);switch(f){case a.yj.SUM:return g&&k?l&&m?this.Ge(b.value+c.value,f,b.rows,d,{}):this.Ge(NaN,f,b.rows,d,{}):k&&!g?m?this.Ge(c.value,f,[],d,{}):this.Ge(NaN,f,[],d,{}):b;case a.yj.AVERAGE:return g&&k?l&&m?this.Ge((b.cE+c.value)/(b.rows.length+1),f,b.rows,d,{cE:b.cE+c.value}):this.Ge(NaN,f,b.rows,d,{cE:b.cE}):k&&!g?m?this.Ge(c.value,f,[],d,{cE:c.value}):this.Ge(NaN,f,[],d,{cE:NaN}):b;case a.yj.VARIANCE:case a.yj.STDDEV:return g&&k?l&&m?(g=b.value+(c.value-b.value)/(b.rows.length+
1),this.Ge(g,f,b.rows,d,{tw:b.tw+(c.value-b.value)*(c.value-g)})):this.Ge(NaN,f,b.rows,d,{tw:NaN}):k&&!g?m?this.Ge(c.value,f,[],d,{tw:0}):this.Ge(NaN,f,[],d,{tw:NaN}):b;case a.yj.NONE:return this.Ge(null,f,g?b.rows:[],d,{});case a.yj.FIRST:return g?this.Ge(b.value,f,b.rows,d,{}):k?this.Ge(c.value,f,[],d,{}):b;case a.yj.MIN:return g&&k?l&&m?this.Ge(Math.min(b.value,c.value),f,b.rows,d,{}):this.Ge(NaN,f,b.rows,d,{}):k&&!g?m?this.Ge(c.value,f,[],d,{}):this.Ge(NaN,f,[],d,{}):b;case a.yj.MAX:return g&&
k?l&&m?this.Ge(Math.max(b.value,c.value),f,b.rows,d,{}):this.Ge(NaN,f,b.rows,d,{}):k&&!g?m?this.Ge(c.value,f,[],d,{}):this.Ge(NaN,f,[],d,{}):b;case a.yj.COUNT:return g&&k?this.Ge(b.value+1,f,b.rows,d,{}):k&&!g?this.Ge(1,f,[],d,{}):b;case a.yj.CUSTOM:return c=e.hd.call(this,g?b.value:void 0,k?c.value:void 0),this.Ge(c,f,g?b.rows:[],d,{})}};a.Xb.prototype.vs=function(c,b){c>=this.Oi.length&&Array.prototype.push.apply(this.Oi,Array(c-this.Oi.length+1));this.Oi[c]||(this.Oi[c]=new a.Ei(b,c,this));return this.Oi[c]};
a.Xb.prototype.Pza=function(c){for(var b=this.lt(),d=new a.co,e=0;e<c.length;e++)d=b[e].jK(c[e],d);return d};a.Xb.prototype.lA=function(){a.A.Oe()};a.Xb.prototype.hT=function(){a.A.Oe()};a.Xb.prototype.iT=function(){a.A.Oe()};a.Xb.prototype.jT=function(){a.A.Oe();return{}};a.yj={SUM:"sum",AVERAGE:"avg",STDDEV:"stddev",VARIANCE:"variance",NONE:"none",FIRST:"first",MIN:"min",MAX:"max",COUNT:"count",CUSTOM:"custom"};o_("CubeAggType",a.yj,a);a.Ld=function(a,b,d,e){this.Init();this.dg=[];this.wy=e;this.DAa=
d;this.p={};this.p.value=a;this.p.label=b};o_("CubeAxisValue",a.Ld,a);a.f.xa(a.Ld,a.f,"oj.CubeAxisValue");a.Ld.prototype.Init=function(){a.Ld.N.Init.call(this)};a.Ld.prototype.lz=function(){return this.DAa};a.f.j("CubeAxisValue.prototype.getLevel",{lz:a.Ld.prototype.lz});a.Ld.prototype.getDepth=function(){return 1};a.f.j("CubeAxisValue.prototype.getDepth",{getDepth:a.Ld.prototype.getDepth});a.Ld.prototype.Ona=function(){for(var a=[],b=this.wy;b&&b.wy;)a.unshift(b),b=b.wy;return a};a.f.j("CubeAxisValue.prototype.getParents",
{Ona:a.Ld.prototype.Ona});a.Ld.prototype.getChildren=function(){return this.dg};a.f.j("CubeAxisValue.prototype.getChildren",{getChildren:a.Ld.prototype.getChildren});a.Ld.prototype.getExtent=function(){if(-1<this.pB)return this.pB;if(this.dg&&0!==this.dg.length)for(var a=this.pB=0;a<this.getChildren().length;a++)this.pB+=this.getChildren()[a].getExtent();else this.pB=1;return this.pB};a.f.j("CubeAxisValue.prototype.getExtent",{getExtent:a.Ld.prototype.getExtent});a.Ld.prototype.getStart=function(){if(-1<
this.Vk)return this.Vk;if(!this.wy)return 0;for(var a=this.wy.getStart(),b=this.wy.pea(this);b;)a+=b.getExtent(),b=this.wy.pea(b);return this.Vk=a};a.f.j("CubeAxisValue.prototype.getStart",{getStart:a.Ld.prototype.getStart});a.Ld.prototype.lg=function(){return this.p.value};a.f.j("CubeAxisValue.prototype.getValue",{lg:a.Ld.prototype.lg});a.Ld.prototype.C3=function(){return this.p.label?this.p.label:this.lg()};a.f.j("CubeAxisValue.prototype.getLabel",{C3:a.Ld.prototype.C3});a.Ld.prototype.Hsa=function(a){var b=
this.ACa();if(null===b)return null;if(b.uD())return this.OCa(a);if(a=a[b.attribute])for(b=0;b<this.dg.length;b++)if(this.dg[b].lg()===a)return this.dg[b];return null};a.Ld.prototype.OCa=function(a){for(var b=0;b<this.dg.length;b++){var d=this.dg[b].lg();if(a.hasOwnProperty(d)&&a[d]===d)return this.dg[b]}return null};a.Ld.prototype.ACa=function(){return this.dg&&0<this.dg.length?this.dg[0].lz():null};a.Ld.prototype.Isa=function(a){return this.KX(a,0,this.dg.length-1)};a.Ld.prototype.KX=function(a,
b,d){if(b>d)return null;var e=Math.floor((b+d)/2),f=this.dg[e],g=f.getStart();return g>a?this.KX(a,b,e-1):g+f.getExtent()-1<a?this.KX(a,e+1,d):f};a.Ld.prototype.QS=function(c,b,d){for(var e=0;e<this.dg.length;e++)if(this.dg[e].lg()===c)return this.dg[e];c=new a.Ld(c,b,d,this);this.dg.push(c);return c};a.Ld.prototype.Jsa=function(){var a={};a[this.lz().attribute]=this.lg();return a};a.Ld.prototype.pea=function(a){for(var b=0;b<this.dg.length;b++)if(this.dg[b]===a){if(0<b)return this.dg[b-1];break}return null};
a.Ei=function(c,b,d){this.Init();this.axis=b;this.jha=[];for(b=0;b<c.length;b++)this.jha.push(d.iT(c[b],this));this.NF=d;this.Mf=new a.Ld(null,null,null,null)};o_("CubeAxis",a.Ei,a);a.f.xa(a.Ei,a.f,"oj.CubeAxis");a.Ei.prototype.Init=function(){a.Ei.N.Init.call(this)};a.Ei.prototype.$q=function(){return this.jha};a.f.j("CubeAxis.prototype.getLevels",{$q:a.Ei.prototype.$q});a.Ei.prototype.getExtent=function(){return this.Mf.getExtent()};a.f.j("CubeAxis.prototype.getExtent",{getExtent:a.Ei.prototype.getExtent});
a.Ei.prototype.st=function(a){for(var b=[],d=this.Mf;d;)(d=d.Isa(a))&&b.push(d);return b};a.f.j("CubeAxis.prototype.getValues",{st:a.Ei.prototype.st});a.Ei.prototype.wm=function(a){a=a?JSON.parse(a):{};for(var b=this.Mf,d=null;b;)d=b,b=b.Hsa(a);return d?d.getStart():-1};a.f.j("CubeAxis.prototype.getIndex",{wm:a.Ei.prototype.wm});a.Ei.prototype.jK=function(a,b){return this.y6(a,this.$q().length-1,b)};a.Ei.prototype.y6=function(a,b,d){a=this.st(a);b=this.$q()[b];for(var e=0;e<a.length;e++){var f=a[e];
f.lz().uD()?d.PS(f.lg()):d.ST(f);if(f.lz()===b)break}return d};a.Ei.prototype.X6=function(a,b){return this.NF.lA(this,0,this.Mf,a,b,!0)};a.zj=function(a,b,d,e,f){this.Init();this.p={};this.p.value=a;this.p.JSa=b;this.p.iQ=d;this.p.rows=e;this.p.tw=f};o_("CubeDataValue",a.zj,a);a.f.xa(a.zj,a.f,"oj.CubeDataValue");a.zj.prototype.Init=function(){a.zj.N.Init.call(this)};a.zj.prototype.lg=function(){switch(this.p.iQ){case a.yj.STDDEV:return Math.sqrt(this.Tea());case a.yj.VARIANCE:return this.Tea();default:return this.p.value}};
a.f.j("CubeDataValue.prototype.getValue",{lg:a.zj.prototype.lg});a.zj.prototype.Gna=function(){return this.p.JSa};a.f.j("CubeDataValue.prototype.getIndices",{Gna:a.zj.prototype.Gna});a.zj.prototype.Vna=function(){return this.p.rows};a.f.j("CubeDataValue.prototype.getRows",{Vna:a.zj.prototype.Vna});a.zj.prototype.ina=function(){return this.p.iQ};a.f.j("CubeDataValue.prototype.getAggregation",{ina:a.zj.prototype.ina});a.zj.prototype.Tea=function(){if(isNaN(this.p.tw))return NaN;var a=this.p.rows.length;
return 1<a?this.p.tw/(a-1):0};a.bo=function(c,b){var d=b.row?b.row.start:0,e=b.row?b.row.count:0,f=b.column?b.column.start:0,g=b.column?b.column.count:0;a.A.$s(d,null);a.A.$s(e,null);a.A.$s(f,null);a.A.$s(g,null);this.NF=c;this.z1={row:d,column:f};this.Mf=this.NF.st([{start:f,count:g},{start:d,count:e}]);g=(d=Array.isArray(this.Mf))?this.Mf.length:1;0<g&&(e=d?this.Mf[0].length:1);this.Kza={row:e,column:g}};o_("CubeCellSet",a.bo,a);a.bo.prototype.getData=function(a){var b=a.row;a=a.column;return(b=
Array.isArray(this.Mf)?this.Mf[a-this.z1.column][b-this.z1.row]:this.Mf)?b.lg():null};a.f.j("CubeCellSet.prototype.getData",{getData:a.bo.prototype.getData});a.bo.prototype.getMetadata=function(a){var b={keys:{}};b.keys.row=this.$ca(a,"row",2);b.keys.column=this.$ca(a,"column",1);return b};a.f.j("CubeCellSet.prototype.getMetadata",{getMetadata:a.bo.prototype.getMetadata});a.bo.prototype.$ca=function(c,b,d){var e=this.NF.lt();return void 0!==c[b]&&e.length>=d?(d=new a.co,d=e[a.cd.gba(b)].jK(c[b],d),
d.Kw()[0].key):null};a.bo.prototype.getStart=function(a){return this.z1[a]};a.f.j("CubeCellSet.prototype.getStart",{getStart:a.bo.prototype.getStart});a.bo.prototype.getCount=function(a){return this.Kza[a]};a.f.j("CubeCellSet.prototype.getCount",{getCount:a.bo.prototype.getCount});a.Bj=function(c,b,d){this.Init();this.Cu=d;this.cW();a.Bj.N.constructor.call(this,c,b)};o_("DataValueAttributeCube",a.Bj,a);a.f.xa(a.Bj,a.Xb,"oj.DataValueAttributeCube");a.Bj.prototype.Na=null;a.Bj.prototype.Init=function(){a.Bj.N.Init.call(this)};
a.Bj.prototype.Vz=function(){a.Bj.N.Vz.call(this)};a.Bj.prototype.jT=function(a){return this.eB[a]};a.Bj.prototype.iT=function(c,b){return c.dataValue?new a.ok(null,b,!0):new a.ok(c.attribute,b,!1)};a.Bj.prototype.hT=function(c){return new a.Bj(null,c,this.Cu)};a.Bj.prototype.lA=function(a,b,d,e,f,g){if(b>=a.$q().length)return f;var k=a.$q()[b];if(k.uD())return this.iKa(a,d,e,b,f);d=d.QS(e[k.attribute],null,k);g&&f.ST(d);return this.lA(a,b+1,d,e,f,g)};a.Bj.prototype.iKa=function(a,b,d,e,f){for(var g=
!0,k=0;k<this.Cu.length;k++){var l=this.Cu[k].attribute,m=this.Cu[k].label;d.hasOwnProperty(l)&&(m=b.QS(l,m,a.$q()[e]),f.PS(l,d[l]),this.lA(a,e+1,m,d,f,g),g=!1)}return f};a.Bj.prototype.cW=function(){this.eB=[];for(var c=0;c<this.Cu.length;c++){var b=this.Cu[c];this.eB[b.attribute]=b.aggregation?{KC:b.aggregation,hd:b.callback}:{KC:a.yj.SUM,hd:b.callback}}};a.co=function(){this.t_=[];this.p=[]};a.co.prototype.ST=function(a){this.t_.push(a)};a.co.prototype.PS=function(a,b){this.p.push({name:a,value:b})};
a.co.prototype.Kw=function(){var a=[],b=this.uya();if(0===this.p.length)a.push({key:JSON.stringify(b)});else for(var d=0;d<this.p.length;d++){var e=g.extend(!0,{},b);e[this.p[d].name]=this.p[d].name;a.push({key:JSON.stringify(e),Mma:this.p[d].name,value:this.p[d].value})}return a};a.co.prototype.uya=function(){for(var a={},b=0;b<this.t_.length;b++){var d=this.t_[b].Jsa(),e;for(e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a};a.Wh=function(a,b,d,e){this.NF=b;this.sF=a;this.Vk=void 0===d?0:d;this.Iza=
void 0===e?this.sF.getExtent():Math.min(e,this.sF.getExtent()-d);this.tca=d+e-1};o_("CubeHeaderSet",a.Wh,a);a.Wh.prototype.getData=function(a,b){var d=this.gm(a,b);return d?d.C3():null};a.f.j("CubeHeaderSet.prototype.getData",{getData:a.Wh.prototype.getData});a.Wh.prototype.getMetadata=function(c,b){var d=new a.co,d=this.sF.y6(c,b,d);return(d=d.Kw())&&0<d.length?{key:d[0].key}:null};a.f.j("CubeHeaderSet.prototype.getMetadata",{getMetadata:a.Wh.prototype.getMetadata});a.Wh.prototype.getLevelCount=
function(){return this.sF.$q().length};a.f.j("CubeHeaderSet.prototype.getLevelCount",{getLevelCount:a.Wh.prototype.getLevelCount});a.Wh.prototype.getExtent=function(a,b){var d=this.gm(a,b),e=d.getExtent(),d=d.getStart(),f=d+e-1,g=a<d+e-1;d<this.Vk&&(e-=this.Vk-d);f>this.tca&&(e-=f-this.tca);return{extent:e,more:{before:a>d,after:g}}};a.f.j("CubeHeaderSet.prototype.getExtent",{getExtent:a.Wh.prototype.getExtent});a.Wh.prototype.getDepth=function(a,b){return this.gm(a,b).getDepth()};a.f.j("CubeHeaderSet.prototype.getDepth",
{getDepth:a.Wh.prototype.getDepth});a.Wh.prototype.getCount=function(){return this.Iza};a.f.j("CubeHeaderSet.prototype.getCount",{getCount:a.Wh.prototype.getCount});a.Wh.prototype.getStart=function(){return this.Vk};a.f.j("CubeHeaderSet.prototype.getStart",{getStart:a.Wh.prototype.getStart});a.Wh.prototype.gm=function(a,b){void 0===b&&(b=0);var d=this.sF.st(a);return d&&d.length>b?d[b]:null};a.cd=function(c){a.cd.N.constructor.call(this,c)};o_("CubeDataGridDataSource",a.cd,a);a.f.xa(a.cd,a.Ut,"oj.CubeDataGridDataSource");
a.cd.prototype.gra=function(a){this.data=a;this.Qca()};a.f.j("CubeDataGridDataSource.prototype.setCube",{gra:a.cd.prototype.gra});a.cd.prototype.setPage=function(a){this.data.setPage(a);this.Qca()};a.f.j("CubeDataGridDataSource.prototype.setPage",{setPage:a.cd.prototype.setPage});a.cd.prototype.Qca=function(){this.handleEvent("change",{source:this,operation:"refresh"})};a.cd.prototype.getCount=function(a){return(a=this.vs(a))?a.getExtent():0};a.f.j("CubeDataGridDataSource.prototype.getCount",{getCount:a.cd.prototype.getCount});
a.cd.prototype.getCountPrecision=function(){return"exact"};a.f.j("CubeDataGridDataSource.prototype.getCountPrecision",{getCountPrecision:a.cd.prototype.getCountPrecision});a.cd.prototype.fetchHeaders=function(c,b,d){var e=new a.Wh(this.vs(c.axis),this.data,c.start,c.count);b.success.call(d?d.success:void 0,e,c)};a.f.j("CubeDataGridDataSource.prototype.fetchHeaders",{fetchHeaders:a.cd.prototype.fetchHeaders});a.cd.prototype.fetchCells=function(c,b,d){for(var e={},f=0;f<c.length;f++){var g=void 0===
c[f].start?0:c[f].start;if("row"===c[f].axis){var k=void 0===c[f].count?this.data.lt()[1].getExtent():c[f].count;e.row={start:g,count:k}}"column"===c[f].axis&&(k=void 0===c[f].count?this.data.lt()[0].getExtent():c[f].count,e.column={start:g,count:k})}e=new a.bo(this.data,e);b.success.call(d?d.success:void 0,e,c)};a.f.j("CubeDataGridDataSource.prototype.fetchCells",{fetchCells:a.cd.prototype.fetchCells});a.cd.prototype.keys=function(a){var b={},b=this.Gc(a,"row",b),b=this.Gc(a,"column",b);return Promise.resolve(b)};
a.f.j("CubeDataGridDataSource.prototype.keys",{keys:a.cd.prototype.keys});a.cd.prototype.Gc=function(c,b,d){var e=this.vs(b);c=c[b];var f=new a.co,f=e?e.jK(c,f):"";d[b]=f.Kw()[0].key;return d};a.cd.prototype.indexes=function(a){var b={},b=this.Ti(a,"row",b),b=this.Ti(a,"column",b);return Promise.resolve(b)};a.f.j("CubeDataGridDataSource.prototype.indexes",{indexes:a.cd.prototype.indexes});a.cd.prototype.Ti=function(a,b,d){d[b]=this.vs(b).wm(a[b]);return d};a.cd.prototype.sort=function(){a.A.Oe()};
a.f.j("CubeDataGridDataSource.prototype.sort",{sort:a.cd.prototype.sort});a.cd.prototype.move=function(){a.A.Oe()};a.f.j("CubeDataGridDataSource.prototype.move",{move:a.cd.prototype.move});a.cd.prototype.moveOK=function(){return"invalid"};a.f.j("CubeDataGridDataSource.prototype.moveOK",{moveOK:a.cd.prototype.moveOK});a.cd.prototype.getCapability=function(a){switch(a){case "sort":return"none";case "move":return"none"}return null};a.f.j("CubeDataGridDataSource.prototype.getCapability",{getCapability:a.cd.prototype.getCapability});
a.cd.gba=function(a){return"row"===a?1:0};a.cd.prototype.vs=function(c){c=a.cd.gba(c);var b=this.data.lt();return b.length>c?b[c]:null};a.Aj=function(c,b,d){this.Init();this.Cu=d;this.SOa=d.valueAttr;this.zIa=d.labelAttr;var e=d.defaultAggregation;this.Iba=e?a.Aj.QCa(e):{KC:a.yj.SUM};this.MV=d.aggregation;this.cW();a.Aj.N.constructor.call(this,c,b)};o_("DataColumnCube",a.Aj,a);a.f.xa(a.Aj,a.Xb,"oj.DataColumnCube");a.Aj.prototype.Init=function(){a.Aj.N.Init.call(this)};a.Aj.prototype.Vz=function(){a.Aj.N.Vz.call(this)};
a.Aj.prototype.jT=function(a){return this.eB[a]?this.eB[a]:this.Iba};a.Aj.prototype.hT=function(c){return new a.Aj(null,c,this.Cu)};a.Aj.prototype.iT=function(c,b){return c.attribute===this.zIa?new a.ok(c.attribute,b,!0):new a.ok(c.attribute,b,!1)};a.Aj.prototype.lA=function(a,b,d,e,f,g){if(b>=a.$q().length)return f;var k=a.$q()[b],l=e[k.attribute];d=d.QS(l,null,k);k.uD()?f.PS(l,e[this.SOa]):f.ST(d);return this.lA(a,b+1,d,e,f,g)};a.Aj.QCa=function(c){return a.Ua.ud(c)?{KC:c}:{KC:c.aggregation,hd:c.callback}};
a.Aj.prototype.cW=function(){this.eB=[];if(this.MV)for(var a=0;a<this.MV.length;a++){var b=this.MV[a],d=b.aggregation;this.eB[b.value]=d?{KC:d,hd:b.callback}:this.Iba}};a.ok=function(a,b,d){this.Init();this.attribute=a;this.N$=b;this.axis=b.axis;this.Gba=d};o_("CubeLevel",a.ok,a);a.f.xa(a.ok,a.f,"oj.CubeLevel");a.ok.prototype.Init=function(){a.ok.N.Init.call(this)};a.ok.prototype.lg=function(a){if(a=this.N$.st(a))for(var b=0;b<a.length;b++)if(a[b].lz()===this)return a[b];return null};a.f.j("CubeLevel.prototype.getValue",
{lg:a.ok.prototype.lg});a.ok.prototype.uD=function(){return this.Gba};a.f.j("CubeLevel.prototype.isDataValue",{uD:a.ok.prototype.uD});a.ok.prototype.Gba=!1;a.ok.prototype.N$=null});