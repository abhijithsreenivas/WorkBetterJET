/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(a,g){function c(a,c,e,f,g,k,l,m){this.Rd=a;this.KJa=c;this.bB=e;this.gM=f;g&&(g.STa&&(this.bKa=g.STa),g.BTa&&(this.tJa=g.BTa),g.Cqa&&(this.cKa=g.Cqa),g.hqa&&(this.uJa=g.hqa),g.Bqa&&(this.aKa=g.Bqa),g.gqa&&(this.sJa=g.gqa));k&&(k.bra&&(this.Aja=k.bra),k.LQa&&(this.VX=k.LQa),k.GPa&&(this.xx=k.GPa),k.al&&(this.ZL=k.al),k.ul&&(this.kP=k.ul),k.yI&&(this.Mi=k.yI),k.QJ&&(this.lh=k.QJ),k.Ioa&&(this.aO=k.Ioa),k.Zma&&(this.IX=k.Zma),k.og&&(this.uC=
k.og),k.nf&&(this.tC=k.nf),k.Ed&&(this.zo=k.Ed));l&&(l.tqa&&(this.Yha=l.tqa),l.xma&&(this.dba=l.xma),l.gpa&&(this.ly=l.gpa),l.Loa&&(this.IB=l.Loa));this.eM=!0;this.rB=0;m&&(this.D$=m.browserVersion);a=navigator.userAgent.toLowerCase();if(-1!==a.indexOf("gecko/"))this.jya=!0;else if(-1!==a.indexOf("opera"))this.kya=!0;else if(m&&"safari"===m.browser)this.O$=!0;else if(!m||"edge"!==m.browser)if(-1!==a.indexOf("applewebkit")||-1!==a.indexOf("safari"))this.lya=!0}c.prototype.Cp=function(a){var d=this;
if(a){this.Zza();this.kAa(this.bKa,this.cKa,this.aKa);this.bAa(this.tJa,this.uJa,this.sJa);var e=this.Qk;this.caa=e.offsetWidth;this.baa=e.offsetHeight;this.hO();this.fO();this.gH=function(a){d.eGa(a)};c.Li(this.Rd,"mousewheel",this.gH);c.Li(this.Rd,"wheel",this.gH);this.K1=function(a){d.QZ(a)};c.Li(this.kh,"touchstart",this.K1);this.J1=function(a){d.PZ(a)};c.Li(this.kh,"touchmove",this.J1);this.mI=function(a){d.NZ(a)};c.Li(this.kh,"touchend",this.mI);c.Li(this.kh,"touchcancel",this.mI);this.X_=0}else this.Lia();
this.FW();this.y$(a);this.fh(!0);a&&(this.ZL&&(this.Mk=function(){d.fh(!1)},this.ZL.call(this.xx,this.Rd,this.Mk),this.ZL.call(this.xx,this.cm,this.Mk)),this.tC&&this.tC(this.cm))};c.prototype.destroy=function(){this.pn();var a=this.Rd;c.Fg(a,"mousewheel",this.gH);c.Fg(a,"wheel",this.gH);c.Fg(this.kh,"touchstart",this.K1);c.Fg(this.kh,"touchmove",this.J1);c.Fg(this.kh,"touchend",this.mI);c.Fg(this.kh,"touchcancel",this.mI);c.Fg(this.kh,"scroll",this.M0);this.M0=this.mI=this.J1=this.K1=this.gH=null;
this.kP&&this.Mk&&(this.kP.call(this.xx,a,this.Mk),this.kP.call(this.xx,this.cm,this.Mk));this.Mk=null;this.FLa(this.cm,a);a.removeChild(this.kh);a.removeChild(this.Qk);a.removeChild(this.ee);this.cm=this.kh=this.ee=this.Qk=null;this.FW();this.bB=this.xx=this.zo=this.tC=this.uC=this.IX=this.aO=this.lh=this.Mi=this.kP=this.ZL=this.VX=this.Aja=this.Rd=null};c.prototype.qD=function(){this.fh(!1)};c.prototype.WUa=function(a){this.Ly(a,!0)};c.prototype.rRa=function(){return this.Nj()};c.prototype.GLa=
function(a,c){for(var e=a.childNodes;0<e.length;){var f=e[0];this.uC&&this.uC(f);c.appendChild(f);1===f.nodeType&&this.ly&&this.Mi(f,this.ly)}};c.prototype.FLa=function(a,c){if(a)for(var e=a.childNodes;0<e.length;){var f=e[0];c.appendChild(f);1===f.nodeType&&this.ly&&this.lh(f,this.ly)}};c.hG=function(a){var c=a.ownerDocument.defaultView,e=null;return e=c?c.getComputedStyle(a,null):a.currentStyle};c.XCa=function(a){a=c.hG(a);return c.Mj(a.width)};c.WCa=function(a){a=c.hG(a);return c.Mj(a.height)};
c.Mj=function(a){return 0<a.length&&"auto"!=a?(a=parseInt(a,10),isNaN(a)&&(a=0),a):0};c.Li=function(a,c,e){a.addEventListener?a.addEventListener(c,e,!1):a.attachEvent&&a.attachEvent("on"+c,e)};c.Fg=function(a,c,e){a.removeEventListener?a.removeEventListener(c,e,!1):a.detachEvent&&a.detachEvent("on"+c,e)};c.tEa=function(a){var c=0;return c=null!=a.wheelDelta?a.wheelDelta:null!=a.deltaY?-a.deltaY:-a.detail};c.sWa=function(){var a=document.createElement("div");a.style.display="table";return a};c.tWa=
function(){var a=document.createElement("div");a.style.display="table-row";return a};c.rWa=function(){var a=document.createElement("div");a.style.display="table-cell";return a};c.kXa=function(a,c,e,f){var g=document.createElement("div"),k=g.style;k.display="inline-block";g.appendChild(a);c.appendChild(g);e&&(k.maxWidth=g.offsetWidth+"px");f&&(k.maxHeight=g.offsetHeight+"px");return g};c.prototype.ce=function(){return"horizontal"===this.KJa};c.prototype.SHa=function(){return!this.lda().hasChildNodes()};
c.prototype.Lia=function(){this.X_=this.Nj();this.c1(0);this.hO();this.fO()};c.prototype.FW=function(){this.JP=this.Gg=null};c.prototype.fh=function(a){a||this.Lia();this.FW();this.Gg&&this.JP||(this.Gg=this.wha());a||this.y$(!1);this.Pxa()};c.prototype.Pxa=function(){var a=this.Qk.style,c=this.ee.style,e=this.cm,f=this.Gg;this.ce()?(e=.5*(f.jl-e.offsetHeight),a.top=e+"px",c.top=e+"px"):(e=.5*(f.wj-e.offsetWidth),this.gM&&(e=-e),a.left=e+"px",c.left=e+"px")};c.prototype.y$=function(a){var d=this.cm,
e=this.ce(),f=e?c.XCa(this.Rd):c.WCa(this.Rd);this.eH=0;this.cH=e?d.offsetWidth-f+this.caa:d.offsetHeight-f+this.baa;0>this.cH&&(this.cH=0);this.hO();this.fO();this.Ly(a?this.eH:this.X_,!0);this.X_=0};c.prototype.Zza=function(){var a=this,d=this.Rd,e=document.createElement("div");this.kh=e;this.Yha&&this.Mi(e,this.Yha);var f=document.createElement("div");this.cm=f;this.dba&&this.Mi(f,this.dba);this.GLa(d,f);d.appendChild(e);e.appendChild(f);this.M0=function(){a.qGa()};c.Li(e,"scroll",this.M0)};c.prototype.JCa=
function(){for(var a=[],c=this.bB?this.bB:this.cm,e=c.children,f=e.length,g=0;g<f;g++){var k=e[g];1===k.nodeType&&a.push(k)}this.IX&&(g=this.IX,a=g(a));if(c===this.cm&&this.ly)for(g=0;g<a.length;g++)c=a[g],this.aO(c,this.ly)||this.Mi(c,this.ly);return a};c.prototype.kAa=function(a,d,e){var f=this,g=document.createElement("div");this.ee=g;a&&g.setAttribute("id",a);g.setAttribute("class",d);g.setAttribute("aria-hidden","true");c.Li(g,"click",function(){f.Cja()});e&&g.appendChild(e);this.Rd.insertBefore(g,
this.kh)};c.prototype.bAa=function(a,d,e){var f=this,g=document.createElement("div");this.Qk=g;a&&g.setAttribute("id",a);g.setAttribute("class",d);g.setAttribute("aria-hidden","true");c.Li(g,"click",function(){f.Bja()});e&&g.appendChild(e);this.Rd.appendChild(g)};c.prototype.lda=function(){var a=this.bB;a||(a=this.cm);return a};c.prototype.wha=function(){var a=this.lda(),c=this.JCa(),e={wj:0,jl:0},f=[];if(a.hasChildNodes()&&c&&0<c.length)for(var a=this.ce(),g=0,g=this.cm.offsetWidth,k=0,l=null,m=
0;m<c.length;m++){var p=c[m];if(1===p.nodeType){var t=p.offsetWidth,s=p.offsetHeight,n={wj:t,jl:s,id:p.id};if(a){var r=p.offsetLeft;this.bB||0!==r||(p=p.parentNode,r=p.offsetLeft);n.start=this.gM?g-(r+t):r;0===m&&(k=n.start);n.start-=k;e.wj=n.start+t;e.jl=Math.max(e.jl,s);n.end=e.wj-1}else r=p.offsetTop,this.bB||0!==r||(p=p.parentNode,r=p.offsetTop),n.start=r,e.wj=Math.max(e.wj,t),e.jl=n.start+s,n.end=e.jl-1;l&&l.end>=n.start&&(t=l.end-(n.start-1),l.end-=t,a?l.wj-=t:l.jl-=t);f.push(n);l=n}}this.JP=
f;return e};c.prototype.GB=function(){if(!this.JP){var a=this.wha();this.Gg||(this.Gg=a)}return this.JP};c.prototype.BNa=function(){this.lh(this.Qk,this.IB)};c.prototype.CNa=function(){this.lh(this.ee,this.IB)};c.prototype.fO=function(){this.Mi(this.Qk,this.IB)};c.prototype.hO=function(){this.Mi(this.ee,this.IB)};c.prototype.PB=function(){return!this.aO(this.Qk,this.IB)};c.prototype.VG=function(){return!this.aO(this.ee,this.IB)};c.prototype.cY=function(){return this.ce()?this.caa:this.baa};c.prototype.AOa=
function(a){var c=this.cY(),e=this.Nj(),f=this.OO();a<=this.eH?(this.VG()&&(e-=c),this.hO()):f&&(this.VG()||(e+=c),this.CNa());a>=this.cH?(this.PB(),this.fO()):f&&(this.PB(),this.BNa());this.c1(e)};c.prototype.c1=function(a){var c=this.kh;this.ce()?c.scrollLeft=this.RW(a):c.scrollTop=a};c.prototype.kG=function(){var a=this.kh;return this.ce()?a.offsetWidth:a.offsetHeight};c.prototype.Ly=function(a,c){this.tu||(this.eM=!1,this.Oja(a,c))};c.prototype.Oja=function(a,d){if(!this.SHa()){this.tu=!0;a=this.yza(a);
this.AOa(a);var e=this.Aja;if(d||!e||a===this.Nj())this.Qha(this.eM?this.Nj():a);else{this.zo&&(this.Bk=this.zo("scrolling"));var f=this;e.call(this.xx,this.kh,this.RW(a),Math.abs(this.Nj()-a)/c.fwa,function(){f.Qha(a);f.pn()})}}};c.prototype.pn=function(){this.Bk&&(this.Bk(),this.Bk=null)};c.prototype.Nj=function(){var a=this.kh;return this.ce()?this.Fza(a.scrollLeft):a.scrollTop};c.prototype.OO=function(){var a=this.cm,c=this.kh;return this.ce()?a.offsetWidth>c.offsetWidth:a.offsetHeight>c.offsetHeight};
c.prototype.yza=function(a){!this.OO()||a<this.eH?a=this.eH:a>this.cH&&(a=this.cH);return a};c.prototype.eGa=function(a){var d=this.tu;if(this.OO()&&!this.tu){var e=c.tEa(a);0>e&&this.PB()?(d=!0,this.Bja()):0<e&&this.VG()&&(d=!0,this.Cja())}d&&(a.preventDefault(),a.stopPropagation())};c.prototype.QZ=function(a){a=a.touches;this.OO()&&!this.tu&&1===a.length&&(this.Zm=!0,a=a[0],this.NP=this.ce()?a.pageX:a.pageY,this.L1=this.Nj(),this.jOa=this.kaa(),this.kOa=this.laa(),this.rla=this.PB(),this.sla=this.VG())};
c.prototype.PZ=function(a){var d=this.ce(),e=a.touches[0],e=(d?e.pageX:e.pageY)-this.NP,f=d&&this.gM?0<e:0>e,g=f&&this.rla||!f&&this.sla;if(this.Zm&&g){g=this.kh;if(Math.abs(e)<c.wwa*(d?g.offsetWidth:g.offsetHeight)){if(this.Ly(this.L1-e,!0),this.rla&&!this.PB()||this.sla&&!this.VG())this.Zm=!1}else this.Ly(f?this.jOa:this.kOa,!1),this.Zm=!1;this.Ky=!0}this.Ky&&(a.preventDefault(),a.stopPropagation())};c.prototype.NZ=function(){this.Zm&&this.Ly(this.L1,!1);this.Ky=this.Zm=!1};c.prototype.qGa=function(){this.eM&&
!this.tu&&this.Oja(this.Nj(),!0)};c.prototype.Qha=function(a){this.c1(a);this.eM=!0;this.tu=!1;if(this.VX){this.rB=this.iaa();a=this.jaa();var c=this.GB(),e=c[this.rB];this.rB!==a&&this.Nj()>e.start&&this.rB<c.length-2&&(this.rB++,e=c[this.rB]);this.fCa=e.id;this.VX.call(this.xx,this.fCa)}};c.prototype.Bja=function(){this.tu||this.Ly(this.kaa(),!1)};c.prototype.Cja=function(){this.tu||this.Ly(this.laa(),!1)};c.prototype.kaa=function(){var a=this.Fya(),c=0;return c=a===this.iaa()?this.Nj()+this.kG():
this.Hya(a)};c.prototype.laa=function(){var a=this.Gya(),c=0,c=a===this.jaa()?this.Nj()-this.kG():this.Eya(a);this.PB()||(c+=this.cY());c<this.cY()&&(c=this.eH);return c};c.prototype.Hya=function(a){return this.GB()[a].start};c.prototype.Eya=function(a){return this.GB()[a].end-this.kG()+1};c.prototype.iaa=function(){var a=this.lM(this.Nj());return 0>a?0:a};c.prototype.jaa=function(){var a=this.lM(this.Nj()+this.kG()-1),c=this.GB();return 0>a?c.length-1:a};c.prototype.Gya=function(){var a=this.lM(this.Nj()-
1);return 0>a?0:a};c.prototype.Fya=function(){var a=this.lM(this.Nj()+this.kG()),c=this.GB();return 0>a?c.length-1:a};c.prototype.lM=function(a){for(var c=this.GB(),e=0;e<c.length;e++)if(a<=c[e].end)return e;return-1};c.prototype.RW=function(a){var c=a;if(this.gM&&this.ce())if(this.jya||this.O$&&10<=this.D$)c=-a;else if(this.lya||this.kya||this.O$&&10>this.D$)c=this.cm.offsetWidth-this.kh.offsetWidth-a;return c};c.prototype.Fza=function(a){return this.RW(a)};c.fwa=1.1;c.wwa=.33;(function(){a.ab("oj.ojConveyorBelt",
g.oj.baseComponent,{defaultElement:"\x3cdiv\x3e",widgetEventPrefix:"oj",options:{orientation:"horizontal",contentParent:null},_ComponentCreate:function(){this._super();this.element.addClass("oj-conveyorbelt oj-component");this.options.disabled&&a.C.warn(b);this.hb(!0)},refresh:function(){this._super();var a="rtl"===this.sd(),a=this.Pi!=a,b;a||(b=this.dq.rRa());this.mX();this.hb(!0);a||this.dq.WUa(b)},Vp:function(){this._super();this.xf?this.hb(this.xf[0]):this.dq&&this.dq.qD()},vo:function(){this._super();
this.xf?this.hb(this.xf[0]):this.dq&&this.dq.qD()},hb:function(b){var f=this,h=this.element,k=this.options,l=k.orientation;"vertical"===l?h.addClass("oj-conveyorbelt-vertical"):h.removeClass("oj-conveyorbelt-vertical");if(this.xF()){this.xf=null;this.Pi="rtl"===this.sd();if(b&&!this.dq){var m=null,p=null,t=null,s=null,n=null;"vertical"!==l?(m="oj-enabled oj-conveyorbelt-overflow-indicator oj-start oj-default",p="oj-enabled oj-conveyorbelt-overflow-indicator oj-end oj-default",t=this.yM("oj-conveyorbelt-overflow-icon oj-start"),
s=this.yM("oj-conveyorbelt-overflow-icon oj-end"),n=this.Txa):(m="oj-enabled oj-conveyorbelt-overflow-indicator oj-top oj-default",p="oj-enabled oj-conveyorbelt-overflow-indicator oj-bottom oj-default",t=this.yM("oj-conveyorbelt-overflow-icon oj-top"),s=this.yM("oj-conveyorbelt-overflow-icon oj-bottom"),n=this.Uxa);var r={};r.Cqa=m;r.hqa=p;r.Bqa=t;r.gqa=s;m={al:function(b,c){a.Q.al(b,c,d)}};m.ul=a.Q.ul;m.yI=this.Cxa;m.QJ=this.pLa;m.Ioa=this.TZ;m.Zma=function(a){return f.XBa(a)};m.og=a.Components.og;
m.nf=a.Components.nf;m.Ed=function(a){return f.zk(a)};"enabled"!==a.oa.t3()&&(m.bra=n);n=null;k.contentParent&&(n=g(k.contentParent)[0]);k=a.Qa.vm(navigator.userAgent);this.dq=new c(h[0],l,n,this.Pi,r,m,{tqa:"oj-conveyorbelt-overflow-container",xma:"oj-conveyorbelt-content-container",gpa:"oj-conveyorbelt-item",Loa:"oj-helper-hidden"},k)}this.dq.Cp(b);if(b)for(b=h.find(".oj-conveyorbelt-overflow-indicator"),h=0;h<b.length;h++)this.oNa(g(b[h]))}else h=!1,this.xf&&(h=this.xf[0]),this.xf=[b||h]},_destroy:function(){this.mX();
this.element.removeClass("oj-conveyorbelt oj-component oj-conveyorbelt-vertical");this._super()},_setOption:function(c,d,g){var k=!1,l=this.options;switch(c){case "containerParent":case "orientation":k=l.orientation!=d;break;case "disabled":a.C.warn(b)}k&&this.mX();this._super(c,d,g);k&&this.hb(!0)},mX:function(){var a=this.dq;a&&(this.element.find(".oj-conveyorbelt-overflow-indicator").off(this.eventNamespace),a.destroy());this.dq=null},xF:function(){var a=document.createElement("div"),b=a.style;
b.width="10px";b.height="10px";b["-webkit-flex"]="0 0 auto";b.flex="0 0 auto";b=this.element[0];b.appendChild(a);var c=!1;try{c=0<a.offsetWidth&&0<a.offsetHeight}catch(d){}b.removeChild(a);return c},oNa:function(a){this.$f({element:a,afterToggle:function(b){"mouseenter"===b?a.removeClass("oj-default"):"mouseleave"===b&&a.addClass("oj-default")}});this.vk({element:a,afterToggle:function(b){"mousedown"===b||"touchstart"===b||"mouseenter"===b?a.removeClass("oj-default"):"mouseup"!==b&&"touchend"!==b&&
"touchcancel"!==b&&"mouseleave"!==b||a.addClass("oj-default")}})},yM:function(a){var b=document.createElement("span");b.setAttribute("class","oj-component-icon "+a);return b},Txa:function(a,b,c,d){var l={};l.scrollLeft=b;g(a).animate(l,c,"swing",d)},Uxa:function(a,b,c,d){var l={};l.scrollTop=b;g(a).animate(l,c,"swing",d)},Cxa:function(a,b){g(a).addClass(b)},pLa:function(a,b){g(a).removeClass(b)},TZ:function(a,b){return g(a).hasClass(b)},XBa:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];
this.TZ(d,"oj-helper-detect-expansion")||this.TZ(d,"oj-helper-detect-contraction")||b.push(d)}return b},zk:function(b){var c=this.element,d=a.Context.getContext(c[0]).ye(),g="ConveyorBelt",c=c.attr("id"),g=g+(" (id\x3d'"+c+"')")+(": "+b);return d.Ed({description:g})},getNodeBySubId:function(a){if(null==a)return this.element?this.element[0]:null;a=a.subId;return"oj-conveyorbelt-start-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-start")[0]:"oj-conveyorbelt-end-overflow-indicator"===
a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-end")[0]:"oj-conveyorbelt-top-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-top")[0]:"oj-conveyorbelt-bottom-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-bottom")[0]:null},getSubIdByNode:function(a){for(var b=this.getNodeBySubId({subId:"oj-conveyorbelt-start-overflow-indicator"}),c=this.getNodeBySubId({subId:"oj-conveyorbelt-end-overflow-indicator"}),d=this.getNodeBySubId({subId:"oj-conveyorbelt-top-overflow-indicator"}),
g=this.getNodeBySubId({subId:"oj-conveyorbelt-bottom-overflow-indicator"}),m=this.element[0];a&&a!=m;){if(a===b)return{subId:"oj-conveyorbelt-start-overflow-indicator"};if(a===c)return{subId:"oj-conveyorbelt-end-overflow-indicator"};if(a===d)return{subId:"oj-conveyorbelt-top-overflow-indicator"};if(a===g)return{subId:"oj-conveyorbelt-bottom-overflow-indicator"};a=a.parentElement}return null}});var b="JET ConveyorBelt: 'disabled' option not supported",d=25})();a.U.qb("oj-conveyor-belt","baseComponent",
{properties:{contentParent:{type:"string"},orientation:{type:"string",enumValues:["horizontal","vertical"]}},extension:{nb:"ojConveyorBelt"}});a.U.register("oj-conveyor-belt",{metadata:a.U.getMetadata("oj-conveyor-belt")})});