/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","promise","customElements"],function(a){a.ia={};a.ia.ur={mRa:function(){return this.kT().UI()},Qna:function(g){var c=Object.create(HTMLElement.prototype);this.F6(c);g=this.pE(g);a.ia.XM(c,g,"properties",this.bT.bind(this));a.ia.XM(c,g,"methods",this.aT.bind(this));this.OS(c);c.createdCallback=a.ia.yAa;c.attachedCallback=a.ia.dya;c.attributeChangedCallback=a.ia.fya;c.detachedCallback=a.ia.SAa;return c},FTa:function(a,c){this.tT(a,c)},GTa:function(a){this.B6(a);this.oE().Mz()},
jqa:function(){this.oE().fUa()},HTa:function(g){var c=a.Context.getContext(g).ye().Ed({description:g.tagName+" identified by '"+g.id+"' is being upgraded."});this.oE().UI().then(function(){g.classList.add("oj-complete");c()},function(){c()})},OS:function(){},aT:function(){},bT:function(){},kT:function(){this.Oba||(this.Oba=new a.ia.NL);return this.Oba},oE:function(){this.Pba||(this.Pba=new a.ia.NL);return this.Pba},pE:function(){return{}},bA:function(a){return a},sT:function(){},A6:function(){},tT:function(){},
B6:function(){},uT:function(){},vT:function(){},F6:function(){}};a.ia.lc=function(g){var c=g[a.ia.y8];if(!c){c=a.ia.FH[g.tagName.toLowerCase()];if(!c)throw"Attempt to interact with the custom element before it has been registered";c=Object.create(c.tPa);Object.defineProperty(g,a.ia.y8,{value:c})}return c};a.ia.Rv=function(g){return g?void 0!==a.ia.FH[g.toLowerCase()]:!1};a.ia.gD=function(a){return a.Qw&&a.Qw.properties};a.ia.dya=function(){a.ia.lc(this).sT(this)};a.ia.fya=function(g,c,b){var d=a.ia.lc(this),
e=a.ld.lQ(g),f=a.ia.dF(e,a.ia.gD(d));f&&!f.readOnly&&(a.ia.b$(this,g),this.dispatchEvent(new CustomEvent("attribute-changed",{detail:{attribute:g,value:b,previousValue:c}})),a.ld.QI(b).expr||this.setProperty(e,a.ia.e$(e,b,f,d.xK)));d.A6(this,g,c,b)};a.ia.yAa=function(){a.ia.lc(this).uT(this)};a.ia.SAa=function(){a.ia.lc(this).vT(this)};a.ia.XM=function(a,c,b,d){if(c&&c[b]){var e=c[b];Object.keys(e).forEach(function(b){d(a,b,e[b])})}};a.ia.cF=function(a,c,b,d){if("string"==typeof b&&d&&(d=d.enumValues)&&
-1===d.indexOf(b))throw"Invalid value found for "+a.tagName+"."+c+". Found: "+b+". Expected: "+d.toString();};a.ia.CV=function(g){return g?a.ia.FH[g.toLowerCase()].wQa:null};a.ia.b$=function(a,c){var b=c.split(".");if(1<b.length)for(b.pop();b.length;){var d=b.join(".");if(a.hasAttribute(d))throw"Cannot set overlapping attributes "+c+" and "+d;b.pop()}};a.ia.dF=function(a,c){for(var b=c,d=a.split("."),e=0;e<d.length;e++)if(b=b[d[e]],1<d.length&&e<d.length-1&&(b=b.properties,!b))return null;return b};
a.ia.d$=function(g,c,b,d){for(var e=g.attributes,f=a.ia.lc(g),h=0;h<e.length;h++){var k=e[h],l=a.ld.lQ(k.nodeName),m=a.ia.dF(l,b);m&&!m.readOnly&&(a.ia.b$(g,k.nodeName),a.ld.QI(k.value).expr||(k=a.ia.e$(l,k.value,m,d),a.ia.cF(g,l,k,m),a.ia.QL(f.bA.bind(f),c,l,k)))}};a.ia.QL=function(a,c,b,d){b=b.split(".");for(var e=0;e<b.length;e++){var f=a(b[e]);if(e===b.length-1){c[f]=d;break}else c[f]||(c[f]={});c=c[f]}};a.ia.c$=function(a,c){for(var b=a,d=c.split("."),e=0;e<d.length;e++){var f=d[e];if(e===d.length-
1)return b[f];if(!b[f])return null;b=b[f]}};a.ia.e$=function(g,c,b,d){if(null==c)return c;var e=b.type;return d?d(c,g,b,function(b){return a.ld.oma(g,b,e)}):a.ld.oma(g,c,e)};a.ia.f$=function(g,c){g=a.vc.fe({},g,void 0,!0,1);g.properties=g.properties||{};a.ia.XM(null,g,"properties",function(b,d){g.properties[a.ld.Wma(a.ld.Eqa(d))]={lX:!0,ZM:!0}});a.ia.XM(null,g,"events",function(b,d){g.properties[a.ld.Wma(c?a.ld.Vma(d):d)]={lX:!0,ZM:!0}});return g};a.ia.g$=function(g,c,b){var d=g.toLowerCase();if(!a.ia.FH[d]){if(!c)throw"Error registering "+
g+": missing a descriptor.";a.ia.FH[d]={wQa:c,tPa:b};return!0}return!1};a.ia.FH={};a.ia.y8="_ojBridge";a.ia.NL=function(){var a,c,b;this.UI=function(){a||(a=new Promise(function(a,e){c=a;b=e}));return a};this.fUa=function(){b&&b(void 0)};this.Mz=function(b){c?c(b):a=Promise.resolve(b)}}});